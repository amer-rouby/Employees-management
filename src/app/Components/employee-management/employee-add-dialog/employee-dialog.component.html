<h1 mat-dialog-title>{{ isEditMode ? ('UPDATE' | translate) : ('ADD' | translate) }}</h1>
<form [formGroup]="employeeForm" (ngSubmit)="saveEmployee()" class="employee-form p-3">
  <div class="form-grid">
    <mat-form-field appearance="fill">
      <mat-label>{{ 'EMPLOYEES_ARABIC_NAME' | translate }}</mat-label>
      <input matInput formControlName="name" placeholder="{{ 'EMPLOYEES_ARABIC_NAME' | translate }}" />
      @if (employeeForm.get('name')?.hasError('required')) {
        <mat-error>
          {{ 'FIELD_REQUIRED' | translate }}
        </mat-error>
      }
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>{{ 'EMPLOYEES_ENGLISH_NAME' | translate }}</mat-label>
      <input matInput formControlName="englishName" placeholder="{{ 'EMPLOYEES_ENGLISH_NAME' | translate }}" />
      @if (employeeForm.get('englishName')?.hasError('required')) {
        <mat-error>
          {{ 'FIELD_REQUIRED' | translate }}
        </mat-error>
      }
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>{{ 'POSITION' | translate }}</mat-label>
      <mat-select formControlName="jobTitleId">
        @for (job of jobTitles; track job) {
          <mat-option [value]="job.id">{{ job | translateText }}</mat-option>
        }
      </mat-select>
      @if (employeeForm.get('jobTitleId')?.hasError('required')) {
        <mat-error>
          {{ 'FIELD_REQUIRED' | translate }}
        </mat-error>
      }
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>{{ 'DEPARTMENT' | translate }}</mat-label>
      <mat-select formControlName="departmentId">
        @for (department of departments; track department) {
          <mat-option [value]="department.id">{{ department | translateText }}</mat-option>
        }
      </mat-select>
      @if (employeeForm.get('departmentId')?.hasError('required')) {
        <mat-error>
          {{ 'FIELD_REQUIRED' | translate }}
        </mat-error>
      }
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>{{ 'GENDER' | translate }}</mat-label>
      <mat-select formControlName="genderId">
        @for (g of gender; track g) {
          <mat-option [value]="g.id">{{ g | translateText }}</mat-option>
        }
      </mat-select>
      @if (employeeForm.get('genderId')?.hasError('required')) {
        <mat-error>
          {{ 'FIELD_REQUIRED' | translate }}
        </mat-error>
      }
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>{{ 'NATIONALITY' | translate }}</mat-label>
      <mat-select formControlName="nationalitieId">
        @for (n of nationalities; track n) {
          <mat-option [value]="n.id">{{ n | translateText }}</mat-option>
        }
      </mat-select>
      @if (employeeForm.get('nationalitieId')?.hasError('required')) {
        <mat-error>
          {{ 'FIELD_REQUIRED' | translate }}
        </mat-error>
      }
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>{{ 'MARITAL_STATUS' | translate }}</mat-label>
      <mat-select formControlName="maritalStatusId">
        @for (m of maritalStatus; track m) {
          <mat-option [value]="m.id">{{ m | translateText }}</mat-option>
        }
      </mat-select>
      @if (employeeForm.get('maritalStatusId')?.hasError('required')) {
        <mat-error>
          {{ 'FIELD_REQUIRED' | translate }}
        </mat-error>
      }
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>{{ 'PHONE_NUMBER' | translate }}</mat-label>
      <input matInput formControlName="phoneNumber" placeholder="{{ 'PHONE_NUMBER' | translate }}" />
      @if (employeeForm.get('phoneNumber')?.hasError('required')) {
        <mat-error>
          {{ 'FIELD_REQUIRED' | translate }}
        </mat-error>
      }
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>{{ 'IDENTITY_NUMBER' | translate }}</mat-label>
      <input matInput formControlName="identityNumber" placeholder="{{ 'IDENTITY_NUMBER' | translate }}" />
      @if (employeeForm.get('identityNumber')?.hasError('required')) {
        <mat-error>
          {{ 'FIELD_REQUIRED' | translate }}
        </mat-error>
      }
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>{{ 'HIRE_DATE' | translate }}</mat-label>
      <input matInput [matDatepicker]="hireDatePicker" formControlName="hireDate" />
      <mat-datepicker-toggle matSuffix [for]="hireDatePicker"></mat-datepicker-toggle>
      <mat-datepicker #hireDatePicker></mat-datepicker>
      @if (employeeForm.get('hireDate')?.hasError('required')) {
        <mat-error>
          {{ 'FIELD_REQUIRED' | translate }}
        </mat-error>
      }
    </mat-form-field>
  </div>

  <div class="form-buttons">
    <button mat-raised-button color="primary" type="submit">
      {{ isEditMode ? ('UPDATE' | translate) : ('ADD' | translate) }}
    </button>
    <button mat-button color="warn" (click)="cancel()">{{ 'CANCEL' | translate }}</button>
  </div>
</form>
